<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title></title>
<style type="text/css">
.ansi2html-content { display: inline; white-space: pre-wrap; word-wrap: break-word; }
.body_foreground { color: #AAAAAA; }
.body_background { background-color: #000000; }
.inv_foreground { color: #000000; }
.inv_background { background-color: #AAAAAA; }
.ansi1 { font-weight: bold; }
.ansi32 { color: #00aa00; }
.ansi33 { color: #aa5500; }
.ansi36 { color: #00aaaa; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000068000 { color: #004400; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000068000 { color: #004400; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-250144246 { color: #FA90F6; }
.ansi38-218112214 { color: #DA70D6; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000068000 { color: #004400; }
.ansi38-000068000 { color: #004400; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-250144246 { color: #FA90F6; }
.ansi38-218112214 { color: #DA70D6; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000068000 { color: #004400; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
</style>
</head>
<body class="body_foreground body_background" style="font-size: normal;" >
<pre class="ansi2html-content">
 (@ track_load_into_file "/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/interp_1a/hyperon-experimental_scripts/c3_pln_stv.metta")
%~ load_answer_file( '/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/interp_1a/hyperon-experimental_scripts/c3_pln_stv.metta.answers',
%~   '/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/interp_1a/hyperon-experimental_scripts/c3_pln_stv.metta')
1=[()]
2=[()]
3=[()]
4=[()]
5=[()]
6=0.33user 0.01system 0:00.35elapsed 99%CPU (0avgtext+0avgdata 33736maxresident)k
6=0inputs+0outputs (0major+3649minor)pagefaults 0swaps
:- dynamic file_answers/3.

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,['confidence->count',Conf],[if,[approxEq,1.0,Conf,1.0e-9],['max-count'],[/,[*,Conf,[lookahead]],[-,1.0,Conf]]]])
</span><span class="ansi38-255165000">  (= 
    (confidence->count $Conf) 
    (if 
      (approxEq 1.0 $Conf 1.0e-9) 
      (max-count) 
      (/ 
        (* $Conf 
          (lookahead)) 
        (- 1.0 $Conf))))
</span>

;;; Increment the negative count of a given truth value, by
;;; incrementing its total count without incrementing the positive
;;; count.
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'inc-neg-count',[->,'TruthValue','TruthValue']])
</span><span class="ansi38-255165000">  (: inc-neg-count 
    (-> TruthValue TruthValue))
</span>

file_answers('/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/interp_1a/hyperon-experimental_scripts/c3_pln_stv.metta', 1, [[]]).
file_answers('/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/interp_1a/hyperon-experimental_scripts/c3_pln_stv.metta', 2, [[]]).
file_answers('/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/interp_1a/hyperon-experimental_scripts/c3_pln_stv.metta', 3, [[]]).
file_answers('/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/interp_1a/hyperon-experimental_scripts/c3_pln_stv.metta', 4, [[]]).
file_answers('/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/interp_1a/hyperon-experimental_scripts/c3_pln_stv.metta', 5, [[]]).

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;; The examples in this file is inspired by OpenCog Classic examples
;; from github.com/opencog/pln, in particular from
;; examples/pln/conjunction, extended with implication
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;; Some helpful definitions
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[min,A,B],[if,[<,A,B],A,B])
</span><span class="ansi38-255165000">  (= 
    (min $A $B) 
    (if 
      (< $A $B) $A $B))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,['inc-neg-count',['STV',S,C]],['let*',[[Tot_cnt,['confidence->count',C]],[Pos_cnt,[*,S,Tot_cnt]],[New_tot_cnt,[+,Tot_cnt,1]]],['STV',[/,Pos_cnt,New_tot_cnt],['count->confidence',New_tot_cnt]]]])
</span><span class="ansi38-255165000">  (= 
    (inc-neg-count 
      (STV $S $C)) 
    (let* 
      ( ($Tot_cnt 
          (confidence->count $C)) 
        ($Pos_cnt 
          (* $S $Tot_cnt)) 
        ($New_tot_cnt 
          (+ $Tot_cnt 1))) 
      (STV 
        (/ $Pos_cnt $New_tot_cnt) 
        (count->confidence $New_tot_cnt))))
</span>

;;; Increment the positive count of a given truth value, by
;;; incrementing its total count and its positive count.
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['s-tv',[stv,S,C]],S)
</span><span class="ansi38-255165000">  (= 
    (s-tv 
      (stv $S $C)) $S)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'inc-pos-count',[->,'TruthValue','TruthValue']])
</span><span class="ansi38-255165000">  (: inc-pos-count 
    (-> TruthValue TruthValue))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['c-tv',[stv,S,C]],C)
</span><span class="ansi38-255165000">  (= 
    (c-tv 
      (stv $S $C)) $C)
</span>

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
; `TV` "metarule" based on `match` to run
; `.tv` is a custom symbol, which is used to connect
; PLN-like expressions with their truth values.
; Some `.tv` facts will be defined below
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['TV',X],[match,'&self',['.tv',X,Stv],Stv])
</span><span class="ansi38-255165000">  (= 
    (TV $X) 
    (match &self 
      (.tv $X $Stv) $Stv))
</span>

; Definition of TV for a conjunction
; we could use `(.tv (And $a $b) (stv ...))` instead of this
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,['inc-pos-count',['STV',S,C]],['let*',[[Tot_cnt,['confidence->count',C]],[Pos_cnt,[*,S,Tot_cnt]],[New_pos_cnt,[+,Pos_cnt,1]],[New_tot_cnt,[+,Tot_cnt,1]]],['STV',[/,New_pos_cnt,New_tot_cnt],['count->confidence',New_tot_cnt]]]])
</span><span class="ansi38-255165000">  (= 
    (inc-pos-count 
      (STV $S $C)) 
    (let* 
      ( ($Tot_cnt 
          (confidence->count $C)) 
        ($Pos_cnt 
          (* $S $Tot_cnt)) 
        ($New_pos_cnt 
          (+ $Pos_cnt 1)) 
        ($New_tot_cnt 
          (+ $Tot_cnt 1))) 
      (STV 
        (/ $New_pos_cnt $New_tot_cnt) 
        (count->confidence $New_tot_cnt))))
</span>

;;; Return the first order probability mode of the second order
;;; distribution associated to a truth value.
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,mode,[->,'TruthValue','Number']])
</span><span class="ansi38-255165000">  (: mode 
    (-> TruthValue Number))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['TV',['And',A,B]],[stv,[min,['s-tv',['TV',A]],['s-tv',['TV',B]]],[min,['c-tv',['TV',A]],['c-tv',['TV',B]]]])
</span><span class="ansi38-255165000">  (= 
    (TV 
      (And $A $B)) 
    (stv 
      (min 
        (s-tv 
          (TV $A)) 
        (s-tv 
          (TV $B))) 
      (min 
        (c-tv 
          (TV $A)) 
        (c-tv 
          (TV $B)))))
</span>

; Definition of TV for $x when it's the consequent of an implication
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[mode,['Bl','True']],1.0])
</span><span class="ansi38-255165000">  (= 
    (mode 
      (Bl True)) 1.0)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[mode,['Bl','False']],0.0])
</span><span class="ansi38-255165000">  (= 
    (mode 
      (Bl False)) 0.0)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[mode,['Pr',Pr]],Pr])
</span><span class="ansi38-255165000">  (= 
    (mode 
      (Pr $Pr)) $Pr)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['TV',X],[match,'&self',['.tv',['Implication',Y,X],[stv,S,C]],[stv,[*,S,['s-tv',['TV',Y]]],[*,C,['c-tv',['TV',Y]]]]])
</span><span class="ansi38-255165000">  (= 
    (TV $X) 
    (match &self 
      (.tv 
        (Implication $Y $X) 
        (stv $S $C)) 
      (stv 
        (* $S 
          (s-tv 
            (TV $Y))) 
        (* $C 
          (c-tv 
            (TV $Y))))))
</span>

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
; First example
; .tv serves as a special type of equality when
; matched by the TV "metarules" above
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
; Some facts
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[mode,['STV',Pr,_]],Pr])
</span><span class="ansi38-255165000">  (= 
    (mode 
      (STV $Pr $_)) $Pr)
</span>

;;; Return the total count of a truth value.  For truth values not
;;; capturing a notion of confidence, such as Bl or Pr then the count
;;; is assumed to be a very large number (cause +inf does not seem to
;;; be supported at the moment).
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',['.tv',['Evaluation',['Predicate','P'],['Concept','A']],[stv,0.5,0.8]])
</span><span class="ansi38-255165000">  (.tv 
    (Evaluation 
      (Predicate P) 
      (Concept A)) 
    (stv 0.5 0.8))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,count,[->,'TruthValue','Number']])
</span><span class="ansi38-255165000">  (: count 
    (-> TruthValue Number))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[count,['Bl',_]],['max-count']])
</span><span class="ansi38-255165000">  (= 
    (count 
      (Bl $_)) 
    (max-count))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',['.tv',['Evaluation',['Predicate','P'],['Concept','B']],[stv,0.3,0.9]])
</span><span class="ansi38-255165000">  (.tv 
    (Evaluation 
      (Predicate P) 
      (Concept B)) 
    (stv 0.3 0.9))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[count,['Pr',_]],['max-count']])
</span><span class="ansi38-255165000">  (= 
    (count 
      (Pr $_)) 
    (max-count))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',['.tv',['Implication',['Evaluation',['Predicate','P'],['Concept','A']],['Evaluation',['Predicate','False'],['Concept','A']]],[stv,0.8,1.0]])
</span><span class="ansi38-255165000">  (.tv 
    (Implication 
      (Evaluation 
        (Predicate P) 
        (Concept A)) 
      (Evaluation 
        (Predicate False) 
        (Concept A))) 
    (stv 0.8 1.0))
</span>

; FIXME? `(PA)` and `(PB)` are used because otherwise
; substitution is not invoked (atm of test creation)
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['PA'],['Evaluation',['Predicate','P'],['Concept','A']])
</span><span class="ansi38-255165000">  (= 
    (PA) 
    (Evaluation 
      (Predicate P) 
      (Concept A)))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['PB'],['Evaluation',['Predicate','P'],['Concept','B']])
</span><span class="ansi38-255165000">  (= 
    (PB) 
    (Evaluation 
      (Predicate P) 
      (Concept B)))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[count,['STV',_,Conf]],['confidence->count',Conf]])
</span><span class="ansi38-255165000">  (= 
    (count 
      (STV $_ $Conf)) 
    (confidence->count $Conf))
</span>

;;; Return the confidence of a truth value.  For truth values not
;;; capturing a notion of confidence, such as Bl or Pr then the
;;; confidence is assumed to be 1.0.  For truth values capturing a
;;; notion of confidence, such as STV, the formula to convert a count
;;; into confidence is as follows
;;;
;;; confidence = count / (count + lookahead)
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['FA'],['Evaluation',['Predicate','False'],['Concept','A']])
</span><span class="ansi38-255165000">  (= 
    (FA) 
    (Evaluation 
      (Predicate False) 
      (Concept A)))
</span>

; Tests
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,confidence,[->,'TruthValue','Number']])
</span><span class="ansi38-255165000">  (: confidence 
    (-> TruthValue Number))
</span>

<span class="ansi38-000068000">!(assertEqual 
  (TV 
    (And 
      (PA) 
      (PB))) 
  (stv 0.3 0.8))

</span>      -->(0,'&self',[assertEqual,['TV',['And',['PA'],['PB']]],[stv,0.3,0.8]],depth(1))
<h3 id="HYPERON-EXPERIMENTAL-SCRIPTS.C3-PLN-STV.01">;; HYPERON-EXPERIMENTAL-SCRIPTS.C3-PLN-STV.01</h3>
          -->(1,'&self',['TV',['And',['PA'],['PB']]],depth(3))
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[confidence,['Bl',_]],1.0])
</span><span class="ansi38-255165000">  (= 
    (confidence 
      (Bl $_)) 1.0)
</span>

              -->(2,'&self',['PA'],depth(5))
                -->(3,'&self',['Evaluation',['Predicate','P'],['Concept','A']],depth(6))
                    -->(4,'&self',['Predicate','P'],depth(8))
                    -->(5,'&self',['Predicate','P'],depth(8))
                    -->(6,'&self',['Concept','A'],depth(8))
                    -->(7,'&self',['Predicate','P'],depth(8))
                    -->(8,'&self',['Concept','A'],depth(8))
              -->(9,'&self',['TV',['And',['Evaluation',['Predicate','P'],['Concept','A']],['PB']]],depth(5))
                  -->(10,'&self',['Predicate','P'],depth(7))
                -->(11,'&self',[match,'&self',['.tv',['And',['Evaluation',['Predicate','P'],['Concept','A']],['PB']],_154440],_154440],depth(6))
                <--(11,retval(fail))
                -->(12,'&self',[stv,[min,['s-tv',['TV',['Evaluation',['Predicate','P'],['Concept','A']]]],['s-tv',['TV',['PB']]]],[min,['c-tv',['TV',['Evaluation',['Predicate','P'],['Concept','A']]]],['c-tv',['TV',['PB']]]]],depth(6))
                    -->(13,'&self',['Predicate','P'],depth(8))
                    -->(14,'&self',[min,['s-tv',['TV',['Evaluation',['Predicate','P'],['Concept','A']]]],['s-tv',['TV',['PB']]]],depth(8))
                        -->(15,'&self',['Predicate','P'],depth(10))
                      -->(16,'&self',[if,[<,['s-tv',['TV',['Evaluation',['Predicate','P'],['Concept','A']]]],['s-tv',['TV',['PB']]]],['s-tv',['TV',['Evaluation',['Predicate','P'],['Concept','A']]]],['s-tv',['TV',['PB']]]],depth(9))
                          -->(17,'&self',[<,['s-tv',['TV',['Evaluation',['Predicate','P'],['Concept','A']]]],['s-tv',['TV',['PB']]]],depth(11))
                              -->(18,'&self',['Predicate','P'],depth(13))
                              -->(19,'&self',['s-tv',['TV',['Evaluation',['Predicate','P'],['Concept','A']]]],depth(13))
                                  -->(20,'&self',['Predicate','P'],depth(15))
                                  -->(21,'&self',['Predicate','P'],depth(15))
                                  -->(22,'&self',['Concept','A'],depth(15))
                                  -->(23,'&self',['TV',['Evaluation',['Predicate','P'],['Concept','A']]],depth(15))
                                      -->(24,'&self',['Predicate','P'],depth(17))
                                    -->(25,'&self',[match,'&self',['.tv',['Evaluation',['Predicate','P'],['Concept','A']],_163566],_163566],depth(16))
                                      -->(26,'&self',[stv,0.5,0.8],depth(17))
                                -->(27,'&self',['s-tv',[stv,0.5,0.8]],depth(14))
                                    -->(28,'&self',[stv,0.5,0.8],depth(16))
                              -->(29,'&self',['s-tv',['TV',['PB']]],depth(13))
                                  -->(30,'&self',['PB'],depth(15))
                                    -->(31,'&self',['Evaluation',['Predicate','P'],['Concept','B']],depth(16))
                                        -->(32,'&self',['Predicate','P'],depth(18))
                                        -->(33,'&self',['Predicate','P'],depth(18))
                                        -->(34,'&self',['Concept','B'],depth(18))
                                        -->(35,'&self',['Predicate','P'],depth(18))
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[confidence,['Pr',_]],1.0])
</span><span class="ansi38-255165000">  (= 
    (confidence 
      (Pr $_)) 1.0)
</span>

                                        -->(36,'&self',['Concept','B'],depth(18))
                                  -->(37,'&self',['s-tv',['TV',['Evaluation',['Predicate','P'],['Concept','B']]]],depth(15))
                                      -->(38,'&self',['Predicate','P'],depth(17))
                                      -->(39,'&self',['Predicate','P'],depth(17))
                                      -->(40,'&self',['Concept','B'],depth(17))
                                      -->(41,'&self',['TV',['Evaluation',['Predicate','P'],['Concept','B']]],depth(17))
                                          -->(42,'&self',['Predicate','P'],depth(19))
                                        -->(43,'&self',[match,'&self',['.tv',['Evaluation',['Predicate','P'],['Concept','B']],_176290],_176290],depth(18))
                                          -->(44,'&self',[stv,0.3,0.9],depth(19))
                                    -->(45,'&self',['s-tv',[stv,0.3,0.9]],depth(16))
                                        -->(46,'&self',[stv,0.3,0.9],depth(18))
                                    <--(45,retval(0.3))
                                        <--(43,retval([stv,0.3,0.9]))
                                      <--(41,retval([match,'&self',['.tv',['Evaluation',['Predicate','P'],['Concept','B']],_176500],_176500]))
                                  <--(37,retval(['s-tv',[stv,0.3,0.9]]))
                                  <--(30,retval(['Evaluation',['Predicate','P'],['Concept','B']]))
                              <--(29,retval(0.3))
                                <--(27,retval(0.5))
                                    <--(25,retval([stv,0.5,0.8]))
                                  <--(23,retval([match,'&self',['.tv',['Evaluation',['Predicate','P'],['Concept','A']],_163776],_163776]))
                              <--(19,retval(['s-tv',[stv,0.5,0.8]]))
                          <--(17,retval('False'))
                          -->(47,'&self',['s-tv',['TV',['PB']]],depth(11))
                              -->(48,'&self',['PB'],depth(13))
                                -->(49,'&self',['Evaluation',['Predicate','P'],['Concept','B']],depth(14))
                                    -->(50,'&self',['Predicate','P'],depth(16))
                                    -->(51,'&self',['Predicate','P'],depth(16))
                                    -->(52,'&self',['Concept','B'],depth(16))
                                    -->(53,'&self',['Predicate','P'],depth(16))
                                    -->(54,'&self',['Concept','B'],depth(16))
                              -->(55,'&self',['s-tv',['TV',['Evaluation',['Predicate','P'],['Concept','B']]]],depth(13))
                                  -->(56,'&self',['Predicate','P'],depth(15))
                                  -->(57,'&self',['Predicate','P'],depth(15))
                                  -->(58,'&self',['Concept','B'],depth(15))
                                  -->(59,'&self',['TV',['Evaluation',['Predicate','P'],['Concept','B']]],depth(15))
                                      -->(60,'&self',['Predicate','P'],depth(17))
                                    -->(61,'&self',[match,'&self',['.tv',['Evaluation',['Predicate','P'],['Concept','B']],_190486],_190486],depth(16))
                                      -->(62,'&self',[stv,0.3,0.9],depth(17))
                                -->(63,'&self',['s-tv',[stv,0.3,0.9]],depth(14))
                                    -->(64,'&self',[stv,0.3,0.9],depth(16))
                    -->(65,'&self',[min,['c-tv',['TV',['Evaluation',['Predicate','P'],['Concept','A']]]],['c-tv',['TV',['PB']]]],depth(8))
                        -->(66,'&self',['Predicate','P'],depth(10))
                      -->(67,'&self',[if,[<,['c-tv',['TV',['Evaluation',['Predicate','P'],['Concept','A']]]],['c-tv',['TV',['PB']]]],['c-tv',['TV',['Evaluation',['Predicate','P'],['Concept','A']]]],['c-tv',['TV',['PB']]]],depth(9))
                          -->(68,'&self',[<,['c-tv',['TV',['Evaluation',['Predicate','P'],['Concept','A']]]],['c-tv',['TV',['PB']]]],depth(11))
                              -->(69,'&self',['Predicate','P'],depth(13))
                              -->(70,'&self',['c-tv',['TV',['Evaluation',['Predicate','P'],['Concept','A']]]],depth(13))
                                  -->(71,'&self',['Predicate','P'],depth(15))
                                  -->(72,'&self',['Predicate','P'],depth(15))
                                  -->(73,'&self',['Concept','A'],depth(15))
                                  -->(74,'&self',['TV',['Evaluation',['Predicate','P'],['Concept','A']]],depth(15))
                                      -->(75,'&self',['Predicate','P'],depth(17))
                                    -->(76,'&self',[match,'&self',['.tv',['Evaluation',['Predicate','P'],['Concept','A']],_200772],_200772],depth(16))
                                      -->(77,'&self',[stv,0.5,0.8],depth(17))
                                -->(78,'&self',['c-tv',[stv,0.5,0.8]],depth(14))
                                    -->(79,'&self',[stv,0.5,0.8],depth(16))
                              -->(80,'&self',['c-tv',['TV',['PB']]],depth(13))
                                  -->(81,'&self',['PB'],depth(15))
                                    -->(82,'&self',['Evaluation',['Predicate','P'],['Concept','B']],depth(16))
                                        -->(83,'&self',['Predicate','P'],depth(18))
                                        -->(84,'&self',['Predicate','P'],depth(18))
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[confidence,['STV',_,Conf]],Conf])
</span><span class="ansi38-255165000">  (= 
    (confidence 
      (STV $_ $Conf)) $Conf)
</span>

                                        -->(85,'&self',['Concept','B'],depth(18))
;;; Return the positive count of a truth value.
                                        -->(86,'&self',['Predicate','P'],depth(18))
                                        -->(87,'&self',['Concept','B'],depth(18))
                                  -->(88,'&self',['c-tv',['TV',['Evaluation',['Predicate','P'],['Concept','B']]]],depth(15))
                                      -->(89,'&self',['Predicate','P'],depth(17))
                                      -->(90,'&self',['Predicate','P'],depth(17))
                                      -->(91,'&self',['Concept','B'],depth(17))
                                      -->(92,'&self',['TV',['Evaluation',['Predicate','P'],['Concept','B']]],depth(17))
                                          -->(93,'&self',['Predicate','P'],depth(19))
                                        -->(94,'&self',[match,'&self',['.tv',['Evaluation',['Predicate','P'],['Concept','B']],_213496],_213496],depth(18))
                                          -->(95,'&self',[stv,0.3,0.9],depth(19))
                                    -->(96,'&self',['c-tv',[stv,0.3,0.9]],depth(16))
                                        -->(97,'&self',[stv,0.3,0.9],depth(18))
                                    <--(96,retval(0.9))
                                        <--(94,retval([stv,0.3,0.9]))
                                      <--(92,retval([match,'&self',['.tv',['Evaluation',['Predicate','P'],['Concept','B']],_213706],_213706]))
                                  <--(88,retval(['c-tv',[stv,0.3,0.9]]))
                                  <--(81,retval(['Evaluation',['Predicate','P'],['Concept','B']]))
                              <--(80,retval(0.9))
                                <--(78,retval(0.8))
                                    <--(76,retval([stv,0.5,0.8]))
                                  <--(74,retval([match,'&self',['.tv',['Evaluation',['Predicate','P'],['Concept','A']],_200982],_200982]))
                              <--(70,retval(['c-tv',[stv,0.5,0.8]]))
                          <--(68,retval('True'))
                          -->(98,'&self',['c-tv',['TV',['Evaluation',['Predicate','P'],['Concept','A']]]],depth(11))
                              -->(99,'&self',['Predicate','P'],depth(13))
                              -->(100,'&self',['Predicate','P'],depth(13))
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'pos-count',[->,'TruthValue','Number']])
</span><span class="ansi38-255165000">  (: pos-count 
    (-> TruthValue Number))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,['pos-count',Tv],[*,[mode,Tv],[count,Tv]]])
</span><span class="ansi38-255165000">  (= 
    (pos-count $Tv) 
    (* 
      (mode $Tv) 
      (count $Tv)))
</span>

;;; Return the negative count of a truth value.
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'neg-count',[->,'TruthValue','Number']])
</span><span class="ansi38-255165000">  (: neg-count 
    (-> TruthValue Number))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,['neg-count',Tv],[*,[-,1,[mode,Tv]],[count,Tv]]])
</span><span class="ansi38-255165000">  (= 
    (neg-count $Tv) 
    (* 
      (- 1 
        (mode $Tv)) 
      (count $Tv)))
</span>

;;; Return the posterior alpha of a truth value
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'post-alpha',[->,'TruthValue','Number']])
</span><span class="ansi38-255165000">  (: post-alpha 
    (-> TruthValue Number))
</span>

Switched off tracing. For a longer trace !(pragma! tracelen 101)); 
; EVAL TEST
; took 0.053 secs. (53.40 milliseconds) 
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,['post-alpha',Tv],[+,['prior-alpha'],['pos-count',Tv]]])
</span><span class="ansi38-255165000">  (= 
    (post-alpha $Tv) 
    (+ 
      (prior-alpha) 
      (pos-count $Tv)))
</span>

;;; Return the posterior beta of a truth value
<span class="ansi36">(@ loonit_success 
  (equal_enough_for_test  
    ( (stv 0.3 0.8)) 
    ( (stv 0.3 0.8))))
</span><span class="ansi33"> Empty

</span><span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'post-beta',[->,'TruthValue','Number']])
</span><span class="ansi38-255165000">  (: post-beta 
    (-> TruthValue Number))
</span>

<span class="ansi38-000068000">!(assertEqual 
  (TV 
    (FA)) 
  (stv 0.4 0.8))

</span>      -->(0,'&self',[assertEqual,['TV',['FA']],[stv,0.4,0.8]],depth(1))
<h3 id="HYPERON-EXPERIMENTAL-SCRIPTS.C3-PLN-STV.02">;; HYPERON-EXPERIMENTAL-SCRIPTS.C3-PLN-STV.02</h3>
          -->(1,'&self',['TV',['FA']],depth(3))
              -->(2,'&self',['FA'],depth(5))
                -->(3,'&self',['Evaluation',['Predicate','False'],['Concept','A']],depth(6))
                    -->(4,'&self',['Predicate','False'],depth(8))
                    -->(5,'&self',['Predicate','False'],depth(8))
                    -->(6,'&self',['Concept','A'],depth(8))
                    -->(7,'&self',['Predicate','False'],depth(8))
                    -->(8,'&self',['Concept','A'],depth(8))
              -->(9,'&self',['TV',['Evaluation',['Predicate','False'],['Concept','A']]],depth(5))
                  -->(10,'&self',['Predicate','False'],depth(7))
                -->(11,'&self',[match,'&self',['.tv',['Evaluation',['Predicate','False'],['Concept','A']],_402492],_402492],depth(6))
                <--(11,retval(fail))
                -->(12,'&self',[match,'&self',['.tv',['Implication',_402750,['Evaluation',['Predicate','False'],['Concept','A']]],[stv,_402774,_402780]],[stv,[*,_402774,['s-tv',['TV',_402750]]],[*,_402780,['c-tv',['TV',_402750]]]]],depth(6))
                  -->(13,'&self',[stv,[*,0.8,['s-tv',['TV',['Evaluation',['Predicate','P'],['Concept','A']]]]],[*,1.0,['c-tv',['TV',['Evaluation',['Predicate','P'],['Concept','A']]]]]],depth(7))
                      -->(14,'&self',['Predicate','P'],depth(9))
                      -->(15,'&self',[*,0.8,['s-tv',['TV',['Evaluation',['Predicate','P'],['Concept','A']]]]],depth(9))
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,['post-beta',Tv],[+,['prior-beta'],['neg-count',Tv]]])
</span><span class="ansi38-255165000">  (= 
    (post-beta $Tv) 
    (+ 
      (prior-beta) 
      (neg-count $Tv)))
</span>

;;; Return the first order probability mean of the second order
                          -->(16,'&self',['Predicate','P'],depth(11))
;;; distribution associated to a truth value.  For truth values not
;;; capturing a notion of confidence, such as Bl or Pr then the
;;; confidence is assumed to be 1.0.  For truth values capturing a
                          -->(17,'&self',['s-tv',['TV',['Evaluation',['Predicate','P'],['Concept','A']]]],depth(11))
;;; notion of confidence, such as STV, a beta distribution is assumed.
                              -->(18,'&self',['Predicate','P'],depth(13))
                              -->(19,'&self',['Predicate','P'],depth(13))
                              -->(20,'&self',['Concept','A'],depth(13))
                              -->(21,'&self',['TV',['Evaluation',['Predicate','P'],['Concept','A']]],depth(13))
                                  -->(22,'&self',['Predicate','P'],depth(15))
                                -->(23,'&self',[match,'&self',['.tv',['Evaluation',['Predicate','P'],['Concept','A']],_410554],_410554],depth(14))
                                  -->(24,'&self',[stv,0.5,0.8],depth(15))
                            -->(25,'&self',['s-tv',[stv,0.5,0.8]],depth(12))
                                -->(26,'&self',[stv,0.5,0.8],depth(14))
                            <--(25,retval(0.5))
                                <--(23,retval([stv,0.5,0.8]))
                              <--(21,retval([match,'&self',['.tv',['Evaluation',['Predicate','P'],['Concept','A']],_410764],_410764]))
                          <--(17,retval(['s-tv',[stv,0.5,0.8]]))
                      <--(15,retval(0.4))
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,mean,[->,'TruthValue','Number']])
</span><span class="ansi38-255165000">  (: mean 
    (-> TruthValue Number))
</span>

                      -->(27,'&self',[*,1.0,['c-tv',['TV',['Evaluation',['Predicate','P'],['Concept','A']]]]],depth(9))
                          -->(28,'&self',['Predicate','P'],depth(11))
                          -->(29,'&self',['c-tv',['TV',['Evaluation',['Predicate','P'],['Concept','A']]]],depth(11))
                              -->(30,'&self',['Predicate','P'],depth(13))
                              -->(31,'&self',['Predicate','P'],depth(13))
                              -->(32,'&self',['Concept','A'],depth(13))
                              -->(33,'&self',['TV',['Evaluation',['Predicate','P'],['Concept','A']]],depth(13))
                                  -->(34,'&self',['Predicate','P'],depth(15))
                                -->(35,'&self',[match,'&self',['.tv',['Evaluation',['Predicate','P'],['Concept','A']],_419852],_419852],depth(14))
                                  -->(36,'&self',[stv,0.5,0.8],depth(15))
                            -->(37,'&self',['c-tv',[stv,0.5,0.8]],depth(12))
                                -->(38,'&self',[stv,0.5,0.8],depth(14))
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[mean,['Bl','True']],1.0])
</span><span class="ansi38-255165000">  (= 
    (mean 
      (Bl True)) 1.0)
</span>

                            <--(37,retval(0.8))
                                <--(35,retval([stv,0.5,0.8]))
                              <--(33,retval([match,'&self',['.tv',['Evaluation',['Predicate','P'],['Concept','A']],_420062],_420062]))
                          <--(29,retval(['c-tv',[stv,0.5,0.8]]))
                      <--(27,retval(0.8))
                      -->(39,'&self',[*,0.8,['s-tv',['TV',['Evaluation',['Predicate','P'],['Concept','A']]]]],depth(9))
                          -->(40,'&self',['Predicate','P'],depth(11))
                          -->(41,'&self',['s-tv',['TV',['Evaluation',['Predicate','P'],['Concept','A']]]],depth(11))
                              -->(42,'&self',['Predicate','P'],depth(13))
                              -->(43,'&self',['Predicate','P'],depth(13))
                              -->(44,'&self',['Concept','A'],depth(13))
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[mean,['Bl','False']],0.0])
</span><span class="ansi38-255165000">  (= 
    (mean 
      (Bl False)) 0.0)
</span>

                              -->(45,'&self',['TV',['Evaluation',['Predicate','P'],['Concept','A']]],depth(13))
                                  -->(46,'&self',['Predicate','P'],depth(15))
                                -->(47,'&self',[match,'&self',['.tv',['Evaluation',['Predicate','P'],['Concept','A']],_429128],_429128],depth(14))
                                  -->(48,'&self',[stv,0.5,0.8],depth(15))
                            -->(49,'&self',['s-tv',[stv,0.5,0.8]],depth(12))
                                -->(50,'&self',[stv,0.5,0.8],depth(14))
                            <--(49,retval(0.5))
                                <--(47,retval([stv,0.5,0.8]))
                              <--(45,retval([match,'&self',['.tv',['Evaluation',['Predicate','P'],['Concept','A']],_429338],_429338]))
                          <--(41,retval(['s-tv',[stv,0.5,0.8]]))
                      <--(39,retval(0.4))
                      -->(51,'&self',[*,1.0,['c-tv',['TV',['Evaluation',['Predicate','P'],['Concept','A']]]]],depth(9))
                          -->(52,'&self',['Predicate','P'],depth(11))
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[mean,['Pr',Pr]],Pr])
</span><span class="ansi38-255165000">  (= 
    (mean 
      (Pr $Pr)) $Pr)
</span>

                          -->(53,'&self',['c-tv',['TV',['Evaluation',['Predicate','P'],['Concept','A']]]],depth(11))
                              -->(54,'&self',['Predicate','P'],depth(13))
                              -->(55,'&self',['Predicate','P'],depth(13))
                              -->(56,'&self',['Concept','A'],depth(13))
                              -->(57,'&self',['TV',['Evaluation',['Predicate','P'],['Concept','A']]],depth(13))
                                  -->(58,'&self',['Predicate','P'],depth(15))
                                -->(59,'&self',[match,'&self',['.tv',['Evaluation',['Predicate','P'],['Concept','A']],_438426],_438426],depth(14))
                                  -->(60,'&self',[stv,0.5,0.8],depth(15))
                            -->(61,'&self',['c-tv',[stv,0.5,0.8]],depth(12))
                                -->(62,'&self',[stv,0.5,0.8],depth(14))
                            <--(61,retval(0.8))
                                <--(59,retval([stv,0.5,0.8]))
                              <--(57,retval([match,'&self',['.tv',['Evaluation',['Predicate','P'],['Concept','A']],_438636],_438636]))
                          <--(53,retval(['c-tv',[stv,0.5,0.8]]))
                      <--(51,retval(0.8))
                  <--(13,retval([stv,0.4,0.8]))
                    -->(63,'&self',[stv,0.4,0.8],depth(8))
            -->(64,'&self',[stv,0.4,0.8],depth(4))
                <--(12,retval([stv,[*,0.8,['s-tv',['TV',['Evaluation',['Predicate','P'],['Concept','A']]]]],[*,1.0,['c-tv',['TV',['Evaluation',['Predicate','P'],['Concept','A']]]]]]))
              <--(9,retval([match,'&self',['.tv',['Implication',_403284,['Evaluation',['Predicate','False'],['Concept','A']]],[stv,_403350,_403356]],[stv,[*,_403350,['s-tv',['TV',_403284]]],[*,_403356,['c-tv',['TV',_403284]]]]]))
              <--(2,retval(['Evaluation',['Predicate','False'],['Concept','A']]))
            -->(65,'&self',[match,'&self',['.tv',['FA'],_444664],_444664],depth(4))
            <--(65,retval(fail))
            -->(66,'&self',[match,'&self',['.tv',['Implication',_444874,['FA']],[stv,_444898,_444904]],[stv,[*,_444898,['s-tv',['TV',_444874]]],[*,_444904,['c-tv',['TV',_444874]]]]],depth(4))
            <--(66,retval(fail))
          <--(1,retval([match,'&self',['.tv',['Implication',_445360,['FA']],[stv,_445390,_445396]],[stv,[*,_445390,['s-tv',['TV',_445360]]],[*,_445396,['c-tv',['TV',_445360]]]]]))
          -->(67,'&self',[stv,0.4,0.8],depth(3))
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[mean,['STV',Pr,Conf]],['let*',[[A,['post-alpha',['STV',Pr,Conf]]],[B,['post-beta',['STV',Pr,Conf]]]],[/,A,[+,A,B]]]])
</span><span class="ansi38-255165000">  (= 
    (mean 
      (STV $Pr $Conf)) 
    (let* 
      ( ($A 
          (post-alpha 
            (STV $Pr $Conf))) 
        ($B 
          (post-beta 
            (STV $Pr $Conf)))) 
      (/ $A 
        (+ $A $B))))
</span>

; 
; EVAL TEST
; took 0.017 secs. (16.94 milliseconds) 
; Evaluation took 1.097 secs. (1097.39 milliseconds) 
Last Result(1): <span class="ansi33">Empty

</span><span class="ansi36">(@ loonit_success 
  (equal_enough_for_test  
    ( (stv 0.4 0.8)) 
    ( (stv 0.4 0.8))))
</span>      <--(0,retval('Empty'))
<span class="ansi33"> Empty

</span>;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
; Second example
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
; Implication rule
<span class="ansi38-013099040">!(import! &self "../OrderedSet.metta")

</span><span class="ansi38-250144246">; !(import! &self "../OrderedSet.metta")
</span><span class="ansi38-218112214">% DEBUG: eval_args(100,'&self',['import!','&self','../OrderedSet.metta'],OUT).

</span>%~ /opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/interp_88/hyperon-pln_metta/common/truthvalue/EvidentialTruthValueTest.metta:8 
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',['.tv',['Implication',['And',[croaks,X],[eat_flies,X]],[frog,X]],[stv,0.9,0.8]])
</span><span class="ansi38-255165000">  (.tv 
    (Implication 
      (And 
        (croaks $X) 
        (eat_flies $X)) 
      (frog $X)) 
    (stv 0.9 0.8))
</span>

; Some facts
%~ load_answer_file( '/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/interp_88/hyperon-pln_metta/common/OrderedSet.metta.answers',
%~   '/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/interp_88/hyperon-pln_metta/common/OrderedSet.metta')
;;;;;;;;;;;
;;; Type ;;
;;;;;;;;;;;
;;; Import modules
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',['.tv',[croaks,'Fritz'],[stv,0.95,0.85]])
</span><span class="ansi38-255165000">  (.tv 
    (croaks Fritz) 
    (stv 0.95 0.85))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',['.tv',[eat_flies,'Fritz'],[stv,0.87,0.95]])
</span><span class="ansi38-255165000">  (.tv 
    (eat_flies Fritz) 
    (stv 0.87 0.95))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',['.tv',['Implication',[frog,X],[green,X]],[stv,0.9,1.0]])
</span><span class="ansi38-255165000">  (.tv 
    (Implication 
      (frog $X) 
      (green $X)) 
    (stv 0.9 1.0))
</span>

; Tests
<span class="ansi38-000068000">!(assertEqual 
  (TV 
    (croaks Fritz)) 
  (stv 0.95 0.85))

</span>      -->(68,'&self',[assertEqual,['TV',[croaks,'Fritz']],[stv,0.95,0.85]],depth(1))
<h3 id="HYPERON-EXPERIMENTAL-SCRIPTS.C3-PLN-STV.03">;; HYPERON-EXPERIMENTAL-SCRIPTS.C3-PLN-STV.03</h3>
          -->(69,'&self',['TV',[croaks,'Fritz']],depth(3))
              -->(70,'&self',[croaks,'Fritz'],depth(5))
            -->(71,'&self',[match,'&self',['.tv',[croaks,'Fritz'],_519394],_519394],depth(4))
              -->(72,'&self',[stv,0.95,0.85],depth(5))
            <--(71,retval([stv,0.95,0.85]))
            -->(73,'&self',[match,'&self',['.tv',['Implication',_520936,[croaks,'Fritz']],[stv,_520960,_520966]],[stv,[*,_520960,['s-tv',['TV',_520936]]],[*,_520966,['c-tv',['TV',_520936]]]]],depth(4))
            <--(73,retval(fail))
          <--(69,retval([match,'&self',['.tv',['Implication',_521410,[croaks,'Fritz']],[stv,_521446,_521452]],[stv,[*,_521446,['s-tv',['TV',_521410]]],[*,_521452,['c-tv',['TV',_521410]]]]]))
          -->(74,'&self',[stv,0.95,0.85],depth(3))
; 
; EVAL TEST
; took 0.000988 secs. (988.40 microseconds) 
<span class="ansi36">(@ loonit_success 
  (equal_enough_for_test  
    ( (stv 0.95 0.85)) 
    ( (stv 0.95 0.85))))
</span>      <--(68,retval('Empty'))
<span class="ansi33"> Empty

</span><span class="ansi38-000068000">!(assertEqual 
  (TV 
    (frog Fritz)) 
  (stv 0.783 0.68))

</span>      -->(75,'&self',[assertEqual,['TV',[frog,'Fritz']],[stv,0.783,0.68]],depth(1))
<h3 id="HYPERON-EXPERIMENTAL-SCRIPTS.C3-PLN-STV.04">;; HYPERON-EXPERIMENTAL-SCRIPTS.C3-PLN-STV.04</h3>
          -->(76,'&self',['TV',[frog,'Fritz']],depth(3))
              -->(77,'&self',[frog,'Fritz'],depth(5))
            -->(78,'&self',[match,'&self',['.tv',[frog,'Fritz'],_28338],_28338],depth(4))
            <--(78,retval(fail))
            -->(79,'&self',[match,'&self',['.tv',['Implication',_28536,[frog,'Fritz']],[stv,_28560,_28566]],[stv,[*,_28560,['s-tv',['TV',_28536]]],[*,_28566,['c-tv',['TV',_28536]]]]],depth(4))
              -->(80,'&self',[stv,[*,0.9,['s-tv',['TV',['And',[croaks,'Fritz'],[eat_flies,'Fritz']]]]],[*,0.8,['c-tv',['TV',['And',[croaks,'Fritz'],[eat_flies,'Fritz']]]]]],depth(5))
                  -->(81,'&self',[croaks,'Fritz'],depth(7))
                  -->(82,'&self',[*,0.9,['s-tv',['TV',['And',[croaks,'Fritz'],[eat_flies,'Fritz']]]]],depth(7))
                      -->(83,'&self',[croaks,'Fritz'],depth(9))
                      -->(84,'&self',['s-tv',['TV',['And',[croaks,'Fritz'],[eat_flies,'Fritz']]]],depth(9))
                          -->(85,'&self',[croaks,'Fritz'],depth(11))
                          -->(86,'&self',[croaks,'Fritz'],depth(11))
                          -->(87,'&self',[eat_flies,'Fritz'],depth(11))
                          -->(88,'&self',['TV',['And',[croaks,'Fritz'],[eat_flies,'Fritz']]],depth(11))
                              -->(89,'&self',[croaks,'Fritz'],depth(13))
                            -->(90,'&self',[match,'&self',['.tv',['And',[croaks,'Fritz'],[eat_flies,'Fritz']],_36250],_36250],depth(12))
                            <--(90,retval(fail))
                            -->(91,'&self',[stv,[min,['s-tv',['TV',[croaks,'Fritz']]],['s-tv',['TV',[eat_flies,'Fritz']]]],[min,['c-tv',['TV',[croaks,'Fritz']]],['c-tv',['TV',[eat_flies,'Fritz']]]]],depth(12))
                                -->(92,'&self',[croaks,'Fritz'],depth(14))
                                -->(93,'&self',[min,['s-tv',['TV',[croaks,'Fritz']]],['s-tv',['TV',[eat_flies,'Fritz']]]],depth(14))
                                    -->(94,'&self',[croaks,'Fritz'],depth(16))
                                  -->(95,'&self',[if,[<,['s-tv',['TV',[croaks,'Fritz']]],['s-tv',['TV',[eat_flies,'Fritz']]]],['s-tv',['TV',[croaks,'Fritz']]],['s-tv',['TV',[eat_flies,'Fritz']]]],depth(15))
                                      -->(96,'&self',[<,['s-tv',['TV',[croaks,'Fritz']]],['s-tv',['TV',[eat_flies,'Fritz']]]],depth(17))
                                          -->(97,'&self',[croaks,'Fritz'],depth(19))
                                          -->(98,'&self',['s-tv',['TV',[croaks,'Fritz']]],depth(19))
                                              -->(99,'&self',[croaks,'Fritz'],depth(21))
                                              -->(100,'&self',[croaks,'Fritz'],depth(21))
<span class="ansi38-013099040">!(import! &self Num.metta)

</span><span class="ansi38-250144246">; !(import! &self Num.metta)
</span><span class="ansi38-218112214">% DEBUG: eval_args(100,'&self',['import!','&self','Num.metta'],OUT).

</span>%~ /opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/interp_88/hyperon-pln_metta/common/Num.metta:1 
%~ load_answer_file( '/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/interp_88/hyperon-pln_metta/common/Num.metta.answers',
%~   '/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/interp_88/hyperon-pln_metta/common/Num.metta')
;;; Definition of a set data structure.  Under the hood it is a sorted
;;; list without duplicates, thus called OrderedSet.  For now its
;;; constructor :: is unconstrained, meaning it does not guaranty that
;;; the constructed OrderedSet are sorted and without duplicates.
;;; Rather this is delegated to the insert function defined below.  In
;;; order to guaranty that it is sorted without duplicates, the
;;; constructor :: would need to take an additional argument encoding a
;;; proof that the element to prepend is less than the head of the set
;;; to be prepended to.
;;; Collection of functions operating on numbers
;;; Define max
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,max,[->,A,A,A]])
</span><span class="ansi38-255165000">  (: max 
    (-> $A $A $A))
</span>

Switched off tracing. For a longer trace !(pragma! tracelen 101)); 
; EVAL TEST
; took 0.044 secs. (43.96 milliseconds) 
<span class="ansi36">(@ loonit_success 
  (equal_enough_for_test  
    ( (stv 0.783 0.68)) 
    ( (stv 0.783 0.68))))
</span><span class="ansi33"> Empty

</span><span class="ansi38-000068000">!(assertEqual 
  (TV 
    (green Fritz)) 
  (stv 0.7047 0.68))

</span>      -->(0,'&self',[assertEqual,['TV',[green,'Fritz']],[stv,0.7047,0.68]],depth(1))
<h3 id="HYPERON-EXPERIMENTAL-SCRIPTS.C3-PLN-STV.05">;; HYPERON-EXPERIMENTAL-SCRIPTS.C3-PLN-STV.05</h3>
          -->(1,'&self',['TV',[green,'Fritz']],depth(3))
              -->(2,'&self',[green,'Fritz'],depth(5))
            -->(3,'&self',[match,'&self',['.tv',[green,'Fritz'],_237760],_237760],depth(4))
            <--(3,retval(fail))
            -->(4,'&self',[match,'&self',['.tv',['Implication',_237958,[green,'Fritz']],[stv,_237982,_237988]],[stv,[*,_237982,['s-tv',['TV',_237958]]],[*,_237988,['c-tv',['TV',_237958]]]]],depth(4))
              -->(5,'&self',[stv,[*,0.9,['s-tv',['TV',[frog,'Fritz']]]],[*,1.0,['c-tv',['TV',[frog,'Fritz']]]]],depth(5))
                  -->(6,'&self',[frog,'Fritz'],depth(7))
                  -->(7,'&self',[*,0.9,['s-tv',['TV',[frog,'Fritz']]]],depth(7))
                      -->(8,'&self',[frog,'Fritz'],depth(9))
                      -->(9,'&self',['s-tv',['TV',[frog,'Fritz']]],depth(9))
                          -->(10,'&self',[frog,'Fritz'],depth(11))
                          -->(11,'&self',[frog,'Fritz'],depth(11))
                          -->(12,'&self',['TV',[frog,'Fritz']],depth(11))
                              -->(13,'&self',[frog,'Fritz'],depth(13))
                            -->(14,'&self',[match,'&self',['.tv',[frog,'Fritz'],_244808],_244808],depth(12))
                            <--(14,retval(fail))
                            -->(15,'&self',[match,'&self',['.tv',['Implication',_245006,[frog,'Fritz']],[stv,_245030,_245036]],[stv,[*,_245030,['s-tv',['TV',_245006]]],[*,_245036,['c-tv',['TV',_245006]]]]],depth(12))
                              -->(16,'&self',[stv,[*,0.9,['s-tv',['TV',['And',[croaks,'Fritz'],[eat_flies,'Fritz']]]]],[*,0.8,['c-tv',['TV',['And',[croaks,'Fritz'],[eat_flies,'Fritz']]]]]],depth(13))
                                  -->(17,'&self',[croaks,'Fritz'],depth(15))
                                  -->(18,'&self',[*,0.9,['s-tv',['TV',['And',[croaks,'Fritz'],[eat_flies,'Fritz']]]]],depth(15))
                                      -->(19,'&self',[croaks,'Fritz'],depth(17))
                                      -->(20,'&self',['s-tv',['TV',['And',[croaks,'Fritz'],[eat_flies,'Fritz']]]],depth(17))
                                          -->(21,'&self',[croaks,'Fritz'],depth(19))
                                          -->(22,'&self',[croaks,'Fritz'],depth(19))
                                          -->(23,'&self',[eat_flies,'Fritz'],depth(19))
                                          -->(24,'&self',['TV',['And',[croaks,'Fritz'],[eat_flies,'Fritz']]],depth(19))
                                              -->(25,'&self',[croaks,'Fritz'],depth(21))
                                            -->(26,'&self',[match,'&self',['.tv',['And',[croaks,'Fritz'],[eat_flies,'Fritz']],_252720],_252720],depth(20))
                                            <--(26,retval(fail))
                                            -->(27,'&self',[stv,[min,['s-tv',['TV',[croaks,'Fritz']]],['s-tv',['TV',[eat_flies,'Fritz']]]],[min,['c-tv',['TV',[croaks,'Fritz']]],['c-tv',['TV',[eat_flies,'Fritz']]]]],depth(20))
                                                -->(28,'&self',[croaks,'Fritz'],depth(22))
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[max,X,Y],[if,[>,X,Y],X,Y]])
</span><span class="ansi38-255165000">  (= 
    (max $X $Y) 
    (if 
      (> $X $Y) $X $Y))
</span>

                                                -->(29,'&self',[min,['s-tv',['TV',[croaks,'Fritz']]],['s-tv',['TV',[eat_flies,'Fritz']]]],depth(22))
;;; Define min
                                                    -->(30,'&self',[croaks,'Fritz'],depth(24))
                                                  -->(31,'&self',[if,[<,['s-tv',['TV',[croaks,'Fritz']]],['s-tv',['TV',[eat_flies,'Fritz']]]],['s-tv',['TV',[croaks,'Fritz']]],['s-tv',['TV',[eat_flies,'Fritz']]]],depth(23))
                                                      -->(32,'&self',[<,['s-tv',['TV',[croaks,'Fritz']]],['s-tv',['TV',[eat_flies,'Fritz']]]],depth(25))
                                                          -->(33,'&self',[croaks,'Fritz'],depth(27))
                                                          -->(34,'&self',['s-tv',['TV',[croaks,'Fritz']]],depth(27))
                                                              -->(35,'&self',[croaks,'Fritz'],depth(29))
                                                              -->(36,'&self',[croaks,'Fritz'],depth(29))
                                                              -->(37,'&self',['TV',[croaks,'Fritz']],depth(29))
                                                                  -->(38,'&self',[croaks,'Fritz'],depth(31))
                                                                -->(39,'&self',[match,'&self',['.tv',[croaks,'Fritz'],_260902],_260902],depth(30))
                                                                  -->(40,'&self',[stv,0.95,0.85],depth(31))
                                                            -->(41,'&self',['s-tv',[stv,0.95,0.85]],depth(28))
                                                                -->(42,'&self',[stv,0.95,0.85],depth(30))
                                                          -->(43,'&self',['s-tv',['TV',[eat_flies,'Fritz']]],depth(27))
                                                              -->(44,'&self',[eat_flies,'Fritz'],depth(29))
                                                              -->(45,'&self',[eat_flies,'Fritz'],depth(29))
                                                              -->(46,'&self',['TV',[eat_flies,'Fritz']],depth(29))
                                                                  -->(47,'&self',[eat_flies,'Fritz'],depth(31))
                                                                -->(48,'&self',[match,'&self',['.tv',[eat_flies,'Fritz'],_267238],_267238],depth(30))
                                                                  -->(49,'&self',[stv,0.87,0.95],depth(31))
                                                            -->(50,'&self',['s-tv',[stv,0.87,0.95]],depth(28))
                                                                -->(51,'&self',[stv,0.87,0.95],depth(30))
                                                            <--(50,retval(0.87))
                                                                <--(48,retval([stv,0.87,0.95]))
                                                              <--(46,retval([match,'&self',['.tv',[eat_flies,'Fritz'],_267388],_267388]))
                                                          <--(43,retval(['s-tv',[stv,0.87,0.95]]))
                                                            <--(41,retval(0.95))
                                                                <--(39,retval([stv,0.95,0.85]))
                                                              <--(37,retval([match,'&self',['.tv',[croaks,'Fritz'],_261052],_261052]))
                                                          <--(34,retval(['s-tv',[stv,0.95,0.85]]))
                                                      <--(32,retval('False'))
                                                      -->(52,'&self',['s-tv',['TV',[eat_flies,'Fritz']]],depth(25))
                                                          -->(53,'&self',[eat_flies,'Fritz'],depth(27))
                                                          -->(54,'&self',[eat_flies,'Fritz'],depth(27))
                                                          -->(55,'&self',['TV',[eat_flies,'Fritz']],depth(27))
                                                              -->(56,'&self',[eat_flies,'Fritz'],depth(29))
                                                            -->(57,'&self',[match,'&self',['.tv',[eat_flies,'Fritz'],_274758],_274758],depth(28))
                                                              -->(58,'&self',[stv,0.87,0.95],depth(29))
                                                        -->(59,'&self',['s-tv',[stv,0.87,0.95]],depth(26))
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,min,[->,A,A,A]])
</span><span class="ansi38-255165000">  (: min 
    (-> $A $A $A))
</span>

                                                            -->(60,'&self',[stv,0.87,0.95],depth(28))
                                                -->(61,'&self',[min,['c-tv',['TV',[croaks,'Fritz']]],['c-tv',['TV',[eat_flies,'Fritz']]]],depth(22))
                                                    -->(62,'&self',[croaks,'Fritz'],depth(24))
                                                  -->(63,'&self',[if,[<,['c-tv',['TV',[croaks,'Fritz']]],['c-tv',['TV',[eat_flies,'Fritz']]]],['c-tv',['TV',[croaks,'Fritz']]],['c-tv',['TV',[eat_flies,'Fritz']]]],depth(23))
                                                      -->(64,'&self',[<,['c-tv',['TV',[croaks,'Fritz']]],['c-tv',['TV',[eat_flies,'Fritz']]]],depth(25))
                                                          -->(65,'&self',[croaks,'Fritz'],depth(27))
                                                          -->(66,'&self',['c-tv',['TV',[croaks,'Fritz']]],depth(27))
                                                              -->(67,'&self',[croaks,'Fritz'],depth(29))
                                                              -->(68,'&self',[croaks,'Fritz'],depth(29))
                                                              -->(69,'&self',['TV',[croaks,'Fritz']],depth(29))
                                                                  -->(70,'&self',[croaks,'Fritz'],depth(31))
                                                                -->(71,'&self',[match,'&self',['.tv',[croaks,'Fritz'],_284104],_284104],depth(30))
                                                                  -->(72,'&self',[stv,0.95,0.85],depth(31))
                                                            -->(73,'&self',['c-tv',[stv,0.95,0.85]],depth(28))
                                                                -->(74,'&self',[stv,0.95,0.85],depth(30))
                                                          -->(75,'&self',['c-tv',['TV',[eat_flies,'Fritz']]],depth(27))
                                                              -->(76,'&self',[eat_flies,'Fritz'],depth(29))
                                                              -->(77,'&self',[eat_flies,'Fritz'],depth(29))
                                                              -->(78,'&self',['TV',[eat_flies,'Fritz']],depth(29))
                                                                  -->(79,'&self',[eat_flies,'Fritz'],depth(31))
                                                                -->(80,'&self',[match,'&self',['.tv',[eat_flies,'Fritz'],_290440],_290440],depth(30))
                                                                  -->(81,'&self',[stv,0.87,0.95],depth(31))
                                                            -->(82,'&self',['c-tv',[stv,0.87,0.95]],depth(28))
                                                                -->(83,'&self',[stv,0.87,0.95],depth(30))
                                                            <--(82,retval(0.95))
                                                                <--(80,retval([stv,0.87,0.95]))
                                                              <--(78,retval([match,'&self',['.tv',[eat_flies,'Fritz'],_290590],_290590]))
                                                          <--(75,retval(['c-tv',[stv,0.87,0.95]]))
                                                            <--(73,retval(0.85))
                                                                <--(71,retval([stv,0.95,0.85]))
                                                              <--(69,retval([match,'&self',['.tv',[croaks,'Fritz'],_284254],_284254]))
                                                          <--(66,retval(['c-tv',[stv,0.95,0.85]]))
                                                      <--(64,retval('True'))
                                                      -->(84,'&self',['c-tv',['TV',[croaks,'Fritz']]],depth(25))
                                                          -->(85,'&self',[croaks,'Fritz'],depth(27))
                                                          -->(86,'&self',[croaks,'Fritz'],depth(27))
                                                          -->(87,'&self',['TV',[croaks,'Fritz']],depth(27))
                                                              -->(88,'&self',[croaks,'Fritz'],depth(29))
                                                            -->(89,'&self',[match,'&self',['.tv',[croaks,'Fritz'],_297960],_297960],depth(28))
                                                              -->(90,'&self',[stv,0.95,0.85],depth(29))
                                                        -->(91,'&self',['c-tv',[stv,0.95,0.85]],depth(26))
                                                            -->(92,'&self',[stv,0.95,0.85],depth(28))
                                                        <--(91,retval(0.85))
                                                            <--(89,retval([stv,0.95,0.85]))
                                                          <--(87,retval([match,'&self',['.tv',[croaks,'Fritz'],_298110],_298110]))
                                                      <--(84,retval(['c-tv',[stv,0.95,0.85]]))
                                                  <--(63,retval(0.85))
                                                <--(61,retval([if,[<,['c-tv',['TV',[croaks,'Fritz']]],['c-tv',['TV',[eat_flies,'Fritz']]]],['c-tv',['TV',[croaks,'Fritz']]],['c-tv',['TV',[eat_flies,'Fritz']]]]))
                                                        <--(59,retval(0.87))
                                                            <--(57,retval([stv,0.87,0.95]))
                                                          <--(55,retval([match,'&self',['.tv',[eat_flies,'Fritz'],_274908],_274908]))
                                                      <--(52,retval(['s-tv',[stv,0.87,0.95]]))
                                                  <--(31,retval(0.87))
                                                <--(29,retval([if,[<,['s-tv',['TV',[croaks,'Fritz']]],['s-tv',['TV',[eat_flies,'Fritz']]]],['s-tv',['TV',[croaks,'Fritz']]],['s-tv',['TV',[eat_flies,'Fritz']]]]))
                                                -->(93,'&self',[min,['s-tv',['TV',[croaks,'Fritz']]],['s-tv',['TV',[eat_flies,'Fritz']]]],depth(22))
                                                    -->(94,'&self',[croaks,'Fritz'],depth(24))
                                                  -->(95,'&self',[if,[<,['s-tv',['TV',[croaks,'Fritz']]],['s-tv',['TV',[eat_flies,'Fritz']]]],['s-tv',['TV',[croaks,'Fritz']]],['s-tv',['TV',[eat_flies,'Fritz']]]],depth(23))
                                                      -->(96,'&self',[<,['s-tv',['TV',[croaks,'Fritz']]],['s-tv',['TV',[eat_flies,'Fritz']]]],depth(25))
                                                          -->(97,'&self',[croaks,'Fritz'],depth(27))
                                                          -->(98,'&self',['s-tv',['TV',[croaks,'Fritz']]],depth(27))
                                                              -->(99,'&self',[croaks,'Fritz'],depth(29))
                                                              -->(100,'&self',[croaks,'Fritz'],depth(29))
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[min,X,Y],[if,[<,X,Y],X,Y]])
</span><span class="ansi38-255165000">  (= 
    (min $X $Y) 
    (if 
      (< $X $Y) $X $Y))
</span>

;;; Clamp a number to be within a certain range
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,clamp,[->,A,A,A,A]])
</span><span class="ansi38-255165000">  (: clamp 
    (-> $A $A $A $A))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[clamp,X,L,U],[max,L,[min,U,X]]])
</span><span class="ansi38-255165000">  (= 
    (clamp $X $L $U) 
    (max $L 
      (min $U $X)))
</span>

;;; Define abs
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,abs,[->,A,A]])
</span><span class="ansi38-255165000">  (: abs 
    (-> $A $A))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[abs,X],[if,[<,X,0],[*,-1,X],X]])
</span><span class="ansi38-255165000">  (= 
    (abs $X) 
    (if 
      (< $X 0) 
      (* -1 $X) $X))
</span>

;;; Define <=
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,<=,[->,A,A,'Bool']])
</span><span class="ansi38-255165000">  (: <= 
    (-> $A $A Bool))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[<=,X,Y],[or,[<,X,Y],[==,X,Y]]])
</span><span class="ansi38-255165000">  (= 
    (<= $X $Y) 
    (or 
      (< $X $Y) 
      (== $X $Y)))
</span>

;;; Define >=
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,>=,[->,A,A,'Bool']])
</span><span class="ansi38-255165000">  (: >= 
    (-> $A $A Bool))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[>=,X,Y],[or,[>,X,Y],[==,X,Y]]])
</span><span class="ansi38-255165000">  (= 
    (>= $X $Y) 
    (or 
      (> $X $Y) 
      (== $X $Y)))
</span>

;;; Define approximately equal
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,approxEq,[->,A,A,A,'Bool']])
</span><span class="ansi38-255165000">  (: approxEq 
    (-> $A $A $A Bool))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[approxEq,X,Y,Epsilon],[<=,[abs,[-,X,Y]],Epsilon]])
</span><span class="ansi38-255165000">  (= 
    (approxEq $X $Y $Epsilon) 
    (<= 
      (abs 
        (- $X $Y)) $Epsilon))
</span>

;;; Define Nat
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'Nat','Type'])
</span><span class="ansi38-255165000">  (: Nat Type)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'Z','Nat'])
</span><span class="ansi38-255165000">  (: Z Nat)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'S',[->,'Nat','Nat']])
</span><span class="ansi38-255165000">  (: S 
    (-> Nat Nat))
</span>

;;; Define cast functions between Nat and Number
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,fromNumber,[->,'Number','Nat']])
</span><span class="ansi38-255165000">  (: fromNumber 
    (-> Number Nat))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[fromNumber,N],[if,[<=,N,0],'Z',['S',[fromNumber,[-,N,1]]]]])
</span><span class="ansi38-255165000">  (= 
    (fromNumber $N) 
    (if 
      (<= $N 0) Z 
      (S 
        (fromNumber 
          (- $N 1)))))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,fromNat,[->,'Nat','Number']])
</span><span class="ansi38-255165000">  (: fromNat 
    (-> Nat Number))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[fromNat,'Z'],0])
</span><span class="ansi38-255165000">  (= 
    (fromNat Z) 0)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[fromNat,['S',K]],[+,1,[fromNat,K]]])
</span><span class="ansi38-255165000">  (= 
    (fromNat 
      (S $K)) 
    (+ 1 
      (fromNat $K)))
</span>

;;; Define a generic less than operator, , for Nat.  < cannot be used
;;; because it is a built-in, its type is hardwired and cannot be
;;; overloaded.
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'',[->,'Nat','Nat','Bool']])
</span><span class="ansi38-255165000">  (:  
    (-> Nat Nat Bool))
</span>

Switched off tracing. For a longer trace !(pragma! tracelen 101)); 
; EVAL TEST
; took 0.194 secs. (194.20 milliseconds) 
<span class="ansi36">(@ loonit_success 
  (equal_enough_for_test  
    ( (stv 0.7047 0.68)) 
    ( (stv 0.7047 0.68))))
</span><span class="ansi33"> Empty

</span><span class="ansi32">% 1,588,992 inferences, 0.681 CPU in 0.681 seconds (100% CPU, 2333726 Lips)
</span> (@ = "/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/interp_1a/hyperon-experimental_scripts/c3_pln_stv.metta" 0)
<span class="ansi1">LoonIt Report
</span>------------
<span class="ansi32">Successes: 5
</span><span class="ansi32">Failures: 0
</span>doing(ansi2html -u < "/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/TEE.ansi" > "/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/interp_1a/hyperon-experimental_scripts/c3_pln_stv.metta.html" )
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,['',_,'Z'],'False'])
</span><span class="ansi38-255165000">  (= 
    ( $_ Z) False)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,['','Z',['S',_]],'True'])
</span><span class="ansi38-255165000">  (= 
    ( Z 
      (S $_)) True)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,['',['S',X],['S',Y]],['',X,Y]])
</span><span class="ansi38-255165000">  (= 
    ( 
      (S $X) 
      (S $Y)) 
    ( $X $Y))
</span>

;;; Overload  for Number.
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'',[->,'Number','Number','Bool']])
</span><span class="ansi38-255165000">  (:  
    (-> Number Number Bool))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,['',X,Y],[<,X,Y]])
</span><span class="ansi38-255165000">  (= 
    ( $X $Y) 
    (< $X $Y))
</span>

;;; Return the ceiling of a non negative number.  If the number is
;;; negative it returns 1.
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,ceil,[->,'Number','Number']])
</span><span class="ansi38-255165000">  (: ceil 
    (-> Number Number))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[ceil,N],[fromNat,[fromNumber,N]]])
</span><span class="ansi38-255165000">  (= 
    (ceil $N) 
    (fromNat 
      (fromNumber $N)))
</span>

;;; Convert Number to Bool.  Anything above 0 converts to True.
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'number->bool',[->,'Number','Bool']])
</span><span class="ansi38-255165000">  (: number->bool 
    (-> Number Bool))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,['number->bool',X],[<,0,X]])
</span><span class="ansi38-255165000">  (= 
    (number->bool $X) 
    (< 0 $X))
</span>

;;; Convert Bool to Number.  False converts to 0, True converts to 1.
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'bool->number',[->,'Bool','Number']])
</span><span class="ansi38-255165000">  (: bool->number 
    (-> Bool Number))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,['bool->number','False'],0])
</span><span class="ansi38-255165000">  (= 
    (bool->number False) 0)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,['bool->number','True'],1])
</span><span class="ansi38-255165000">  (= 
    (bool->number True) 1)
</span>

;;; Define a less than type.  Note that it is purposefully different
;;; than  as it is a type, not an operator.  Inhabitants of ( x y)
;;; are proofs that x  y == True.  For now  is only axiomatized for
;;; Nat.
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'\x8D\\x83\',[->,T,T,'Type']])
</span><span class="ansi38-255165000">  (:  
    (-> $T $T Type))
</span>

;;; Zero is always less than the successor of something
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,['zero-lt-succ-axiom'],[->,'Atom']])
</span><span class="ansi38-255165000">  (: 
    (zero-lt-succ-axiom) 
    (-> Atom))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,['zero-lt-succ-axiom'],[:,'ZeroLTSucc',['\x8D\\x83\','Z',['S',K]]]])
</span><span class="ansi38-255165000">  (= 
    (zero-lt-succ-axiom) 
    (: ZeroLTSucc 
      ( Z 
        (S $K))))
</span>

;;; If x  y then (S x)  (S y)
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,['succ-monotonicity-rule'],[->,'Atom']])
</span><span class="ansi38-255165000">  (: 
    (succ-monotonicity-rule) 
    (-> Atom))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,['succ-monotonicity-rule'],[:,'SuccMonotonicity',[->,['\x8D\\x83\',X,Y],['\x8D\\x83\',['S',X],['S',Y]]]]])
</span><span class="ansi38-255165000">  (= 
    (succ-monotonicity-rule) 
    (: SuccMonotonicity 
      (-> 
        ( $X $Y) 
        ( 
          (S $X) 
          (S $Y)))))
</span>

; Evaluation took 0.294 secs. (293.86 milliseconds) 
Deterministic: <span class="ansi33">Empty

</span><span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'OrderedSet',[->,A,'Type']])
</span><span class="ansi38-255165000">  (: OrderedSet 
    (-> $A Type))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'\x88\\x85\',['OrderedSet',A]])
</span><span class="ansi38-255165000">  (:  
    (OrderedSet $A))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,::,[->,A,['OrderedSet',A],['OrderedSet',A]]])
</span><span class="ansi38-255165000">  (: :: 
    (-> $A 
      (OrderedSet $A) 
      (OrderedSet $A)))
</span>

;;; Check if an element is in a set.  TODO: optimize assuming it is
;;; ordered.
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,elem,[->,A,['OrderedSet',A],'Bool']])
</span><span class="ansi38-255165000">  (: elem 
    (-> $A 
      (OrderedSet $A) Bool))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[elem,X,'\x88\\x85\'],'False'])
</span><span class="ansi38-255165000">  (= 
    (elem $X ) False)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[elem,X,[::,H,T]],[if,[==,X,H],'True',[elem,X,T]]])
</span><span class="ansi38-255165000">  (= 
    (elem $X 
      (:: $H $T)) 
    (if 
      (== $X $H) True 
      (elem $X $T)))
</span>

;;; Insert an element into a set.  Only insert if the element is not
;;; already in the set as to produce an ordered set.
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,insert,[->,A,['OrderedSet',A],['OrderedSet',A]]])
</span><span class="ansi38-255165000">  (: insert 
    (-> $A 
      (OrderedSet $A) 
      (OrderedSet $A)))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[insert,X,'\x88\\x85\'],[::,X,'\x88\\x85\']])
</span><span class="ansi38-255165000">  (= 
    (insert $X ) 
    (:: $X ))
</span>

;; Base case
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[insert,X,[::,H,T]],[if,[==,X,H],[::,H,T],[if,['',X,H],[::,X,[::,H,T]],[::,H,[insert,X,T]]]]])
</span><span class="ansi38-255165000">  (= 
    (insert $X 
      (:: $H $T)) 
    (if 
      (== $X $H) 
      (:: $H $T) 
      (if 
        ( $X $H) 
        (:: $X 
          (:: $H $T)) 
        (:: $H 
          (insert $X $T)))))
</span>

; Evaluation took 0.381 secs. (381.32 milliseconds) 
Last Result(1): <span class="ansi33">Empty

</span>;; Recursive step
;; Present, no need to insert
;; Use generic <
;; Safely insert since $x < $h
;; Recursive call

</pre>
</body>

</html>
